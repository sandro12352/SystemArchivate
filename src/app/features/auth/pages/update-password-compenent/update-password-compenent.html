@if(resetPasswordConfirm()){
<div class="text-center bg-purple-50 border border-purple-200 rounded-2xl p-8 shadow-sm">

  <div class="flex justify-center mb-4">
    <div class="w-16 h-16 bg-purple-600 rounded-full flex items-center justify-center">
      <i class="pi pi-envelope text-white text-2xl"></i>
    </div>
  </div>
  <h2 class="text-2xl font-bold text-gray-800 mb-2">
    ¡Contraseña actualizada!
  </h2>
  <p class="text-gray-600 mb-4">
    Tu contraseña ha sido restablecida con éxito.
  </p>
  <p class="text-sm text-gray-500 mb-6">
    Ahora puedes volver a la pantalla de inicio
    de sesión y utilizar tu nueva clave.
  </p>
</div>

}@else {

<div class="flex justify-center mb-6">
  <div
    class="w-20 h-20 bg-linear-to-br from-purple-500 to-indigo-600 rounded-full flex items-center justify-center shadow-lg">
    <img src="images/logo.webp" width="100" height="100" class="w-full h-full object-cover ">
  </div>
</div>

<h2 class="text-3xl font-bold text-center mb-2 text-gray-800">
  Restablecer contraseña
</h2>

<p class="text-center text-gray-500 mb-8">
  Ingresa tu nueva contraseña para recuperar el acceso a tu cuenta
</p>

<form [formGroup]="recoverForm" (ngSubmit)="resetPassword()" class="flex flex-col gap-5">

  <!-- New Password -->
  <div class="relative">
    <label class="block text-sm font-semibold mb-2 text-gray-700">
      <i class="pi pi-lock mr-2 text-purple-600"></i>
      Nueva contraseña
    </label>

    <p-password formControlName="password" [feedback]="false" placeholder="••••••••"
      inputStyleClass="w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200"
      styleClass="w-full" [toggleMask]="true"></p-password>

    <i class="pi pi-key absolute left-4 top-12 text-gray-400"></i>
  </div>
  @if (password?.invalid && (password?.dirty || password?.touched)) {
  <p class="text-sm text-red-600 mt-1">
    @if (password?.hasError('required')) {
    Contraseña es obligatoria
    }
    @if (password?.hasError('pattern')) {
    Contraseña invalida
    }
  </p>
  }

  <!-- Confirm Password -->
  <div class="relative">
    <label class="block text-sm font-semibold mb-2 text-gray-700">
      <i class="pi pi-lock mr-2 text-purple-600"></i>
      Confirmar contraseña
    </label>

    <p-password formControlName="confirmPassword" [feedback]="false" placeholder="••••••••"
      inputStyleClass="w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200"
      styleClass="w-full" [toggleMask]="true"></p-password>

    <i class="pi pi-key absolute left-4 top-12 text-gray-400"></i>
  </div>
  @if (confirmPassword?.invalid && (confirmPassword?.dirty || confirmPassword?.touched)) {
  <p class="text-sm text-red-600 mt-1">
    @if (confirmPassword?.hasError('required')) {
    Contraseña es obligatoria
    }
    @if (confirmPassword?.hasError('password')) {
    Confirme su contraseña
    }
  </p>
  }
  @if ( recoverForm.hasError('passwordMismatch') ) {
  <p class="text-sm  text-red-600 mt-1">
    Contraseñas no coinciden
  </p>
  }

  <!-- Submit -->
  <button type="submit" pButton [loading]="isPasswordLoading()" [disabled]="isPasswordLoading()"
    class="w-full mt-2 bg-linear-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-semibold py-3 rounded-lg shadow-lg hover:shadow-xl transform hover:scale-[1.02] transition-all duration-200">@if
    (!isPasswordLoading()) {
    <i class="pi pi-refresh mr-2"></i>
    Restablecer contraseña
    }
  </button>

</form>

}